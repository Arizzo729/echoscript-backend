[mypy]
files = app, tests
exclude = \.venv
python_version = 3.10
ignore_missing_imports = True
plugins = pydantic.mypy

# Reasonable safety without being noisy
warn_unused_ignores = True
warn_redundant_casts = True
warn_unreachable = True
no_implicit_optional = True
strict_optional = True

# Keep your existing per-file ignores for pragmatic spots
per-file-ignores =
    tests/*.py: no-redef
    app/utils/stripe_client.py: return-value, arg-type, attr-defined, assignment
    app/utils/export_utils.py: arg-type
    app/routes/history.py: attr-defined
    app/routes/stripe_webhook.py: attr-defined
    app/routes/subscription.py: assignment
    app/routes/verify_email.py: assignment
    app/routes/auth.py: arg-type
